00000000                                     1  ******************************************************
00000000                                     2  *	Sistema C - Trasmettitore
00000000                                     3  ******************************************************
00008000                                     4  	ORG	$8000
00008000  01 02 03 04                        5  MSG	DC.B	1,2,3,4
00008004  01                                 6  IDX	DC.B	1
00008005  =00002006                          7  PIADB	EQU	$2006
00008005  =00002007                          8  PIACB	EQU	$2007
00008005  =00000004                          9  N	EQU 	4
00008005                                    10  
00008005                                    11  
00008005                                    12  *************************************************************
00008100                                    13  	ORG	$8100
00008100  4EB9 00008124                     14  MAIN	JSR		DVOUT		;Inizializzazione della PIA
00008106  40C0                              15  	MOVE.W	SR,D0
00008108  0240 D8FF                         16  	ANDI.W	#$D8FF,D0	;Smaschera interruzioni 
0000810C  46C0                              17  	MOVE.W	D0,SR
0000810E                                    18  
0000810E  227C 00008000                     19  	MOVEA.L	#MSG,A1
00008114  207C 00002006                     20  	MOVEA.L	#PIADB,A0
0000811A  1211                              21  	MOVE.B	(A1),D1		; Lettura Fittizia
0000811C  1091                              22  	MOVE.B	(A1),(A0)	; Scrittura
0000811E                                    23  *********************************************
0000811E  4EF9 0000811E                     24  LOOP	JMP	LOOP
00008124                                    25  *********************************************
00008124  11FC 0000 2007                    26  DVOUT		MOVE.B	#0,PIACB
0000812A  11FC 00FF 2006                    27  		MOVE.B	#$FF,PIADB
00008130  11FC 0025 2007                    28  		MOVE.B	#%00100101,PIACB
00008136  4E75                              29  		RTS
00008138                                    30  *********************************************************
00008700                                    31  	ORG	$8700
00008700  2F00                              32  INT	MOVE.L	D0,-(A7)
00008702  2F01                              33  	MOVE.L	D1,-(A7)
00008704  2F08                              34  	MOVE.L	A0,-(A7)
00008706  2F09                              35  	MOVE.L	A1,-(A7)
00008708                                    36  
00008708  207C 00002006                     37  	MOVEA.L	#PIADB,A0
0000870E  227C 00008000                     38  	MOVEA.L	#MSG,A1
00008714  1039 00008004                     39  	MOVE.B	IDX,D0
0000871A                                    40  
0000871A  B03C 0004                         41  	CMP.B		#N,D0
0000871E  6600 0006                         42  	BNE	SEND
00008722  103C 0000                         43  	MOVE.B	#0,D0
00008726                                    44  
00008726  1211                              45  SEND	MOVE.B	(A1),D1		; Lettura Fittizia
00008728  10B1 0000                         46  	MOVE.B	(A1,D0),(A0)	; Scrittura
0000872C  5200                              47  	ADDI.B		#1,D0		; Incremento contatore e aggiorno
0000872E  13C0 00008004                     48  	MOVE.B	D0,IDX
00008734                                    49  
00008734  225F                              50  FIN	MOVE.L	(A7)+,A1
00008736  205F                              51  	MOVE.L	(A7)+,A0
00008738  221F                              52  	MOVE.L	(A7)+,D1
0000873A  201F                              53  	MOVE.L	(A7)+,D0
0000873C                                    54  
0000873C  4E73                              55  	RTE
0000873E                                    56  
0000873E                                    57  
0000873E                                    58  
0000873E                                    59  *****************************************************
0000873E                                    60  	END	MAIN

No errors detected
No warnings generated
